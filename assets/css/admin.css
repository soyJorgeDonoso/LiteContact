.btn-sm{
  display:inline-flex;align-items:center;justify-content:center;
  padding:4px 8px;font-size:.8rem;border-radius:6px;margin:0 4px;white-space:nowrap;
  border:1px solid #d1d5db;background:#fff;color:#374151;cursor:pointer;
  transition:background .2s,color .2s,border .2s
}
.btn-sm:hover{background:#f3f4f6;color:var(--primary);border-color:var(--primary)}
.btn-sm svg{width:14px;height:14px}
.btn-sm--icon{font-size:0;padding:4px;min-width:28px;min-height:28px}
.btn-sm--icon svg{width:16px;height:16px}
.input-sm,.select-sm{height:30px;font-size:.85rem;padding:4px 8px;border-radius:6px}
/* Cabecera en una fila */
.toolbar{display:flex;flex-wrap:nowrap;align-items:center;gap:8px}
:root{--primary:#5a3df0;--accent:#6d50ff;--ink:#0e1020;--muted:#6b7280;--bg:#ffffff;--bg-soft:#f6f7fb}
*{box-sizing:border-box}html,body{margin:0;padding:0}body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:var(--ink);background:#fff;line-height:1.5}
.admin-header{position:sticky;top:0;background:#fff;border-bottom:1px solid #eef1f6;z-index:10}
.admin-header .wrap{max-width:1160px;margin:0 auto;padding:12px 16px;display:flex;justify-content:space-between;align-items:center}
.admin-header nav a{text-decoration:none;color:#111827;font-weight:600}
.admin-header nav a:hover{color:var(--primary)}
.admin-menu .navbar{padding:0}
.navbar .nav-link.active{color:var(--primary)!important}
.dropdown-menu{border-radius:10px;border:1px solid #e5e7eb;box-shadow:0 10px 24px rgba(15,23,42,.12)}
.dropdown-item.active,.dropdown-item:active{background:#eef2ff;color:#111827}
/* Fallback CSS si Bootstrap no carga: asegurar visibilidad de submenús */
.dropdown{position:relative}
.dropdown-menu{position:absolute;top:100%;left:0;display:none;background:#fff;z-index:1000;margin-top:.25rem}
.dropdown-menu.show{display:block}
/* Hover en desktop como refuerzo (no afecta móvil) */
@media (hover:hover){
  .navbar .dropdown:hover>.dropdown-menu{display:block}
}
.container{max-width:1160px;margin:18px auto;padding:0 16px}
.cards{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
.card{background:#f8fafc;border:1px solid #eef1f6;border-radius:12px;padding:18px}
.card .num{font-size:32px;font-weight:800}
.card .label{color:var(--muted)}
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:6px;
  padding:8px 12px;border-radius:6px;border:1px solid #d1d5db;
  background:#fff;color:#374151;font-weight:600;cursor:pointer;
  transition:background .2s,color .2s,border .2s
}
.btn:hover{background:#f3f4f6;color:var(--primary);border-color:var(--primary)}
.btn-outline{background:transparent;color:var(--primary);border:2px solid var(--primary)}
.btn-small{background:#e2e8f0;color:#0f172a;border:0;border-radius:10px;padding:6px 10px;cursor:pointer}
.btn-compact{padding:6px 12px;font-size:.85rem;border-radius:8px;box-shadow:none}
.btn-compact.btn-outline-danger{border:1px solid #dc3545;color:#dc3545;background:#fff}
.btn-compact.btn-outline-secondary{border:1px solid #cbd5e1;color:#0f172a;background:#fff}
.btn-compact:hover{filter:brightness(0.98)}
/* Tamaños compactos unificados */
.btn--sm{padding:6px 12px;font-size:.85rem;border-radius:8px;line-height:1.1}
.btn--xs{padding:4px 10px;font-size:.8rem;border-radius:8px;line-height:1.05}
.btn--ghost{background:#fff;border:1px solid #e5e7eb;color:#374151}
.btn--danger{background:#ef4444;color:#fff;border:0}
.btn--primary{background:var(--primary);color:#fff;border:0}
.btn--sm:hover,.btn--xs:hover{transform:translateY(-1px);box-shadow:0 6px 12px rgba(90,61,240,.12)}
.btn--sm:active,.btn--xs:active{transform:none;opacity:.95}

/* Inputs compactos */
.input--xs,.select--xs{height:32px;padding:4px 10px;font-size:.85rem;border-radius:8px}
.alert{background:#f0f9ff;border:1px solid #dbeafe;color:#0c4a6e;border-radius:10px;padding:10px 12px;margin:10px 0}
.panel{background:#fff;border:1px solid #eef1f6;border-radius:12px;padding:16px;margin:16px 0}
label{display:block;font-weight:700;margin:6px 0 4px}
input,textarea,select{width:100%;padding:10px 12px;border:1px solid #d9deea;border-radius:10px;font:inherit}
.actions{margin-top:10px}
.preview img{max-width:100%;height:auto;border:1px solid #eef1f6;border-radius:12px;margin-top:8px}
.filters{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.table-wrap{overflow:auto;border:1px solid #eef1f6;border-radius:12px}
table{width:100%;border-collapse:collapse}
th,td{padding:6px 8px;border-bottom:1px solid #eef1f6;text-align:left;font-size:.85rem}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:.75rem;font-weight:700;color:#111}
.badge--warn{background:#fde68a;color:#92400e}
.badge--alert{background:#fb923c;color:#7c2d12}
.badge--danger{background:#ef4444;color:#fff}
.badge--overdue{background:#111827;color:#fff}
.cell-next-contact{white-space:nowrap}
@media (max-width: 768px){
  .toolbar{flex-wrap:wrap}
  th,td{font-size:.8rem}
  .btn-sm{padding:4px 6px}
  .btn-sm--icon{min-width:24px;min-height:24px}
}
.table-sort{cursor:pointer;display:inline-flex;align-items:center;gap:4px;font-size:.85rem;color:#374151;text-decoration:none;white-space:nowrap}
.table-sort svg{width:12px;height:12px;color:#9ca3af}
.table-sort.active{color:var(--primary)}
.table-sort.asc .icon-asc{color:var(--primary)}
.table-sort.desc .icon-desc{color:var(--primary)}
.table-sort.asc .icon-desc{display:none}
.table-sort.desc .icon-asc{display:none}
.badge--muted{background:#e5e7eb;color:#374151}
.row-level3{background:#fff3cd}
.row-level3>td,.row-level3>th{background:#fff3cd}
.badge--status-new{background:#dbeafe;color:#1e40af}
.badge--status-progress{background:#e0f2fe;color:#075985}
.badge--status-hold{background:#fef9c3;color:#a16207}
.badge--status-won{background:#dcfce7;color:#166534}
.badge--status-closed{background:#e5e7eb;color:#374151}
.pagination{display:flex;gap:6px;margin:12px 0}
.page{padding:6px 10px;border:1px solid #dbeafe;border-radius:8px;text-decoration:none;color:#0f172a}
.page.active{background:#eef2ff;border-color:#c7d2fe}
body.auth{display:grid;place-items:center;min-height:100vh;background:var(--bg-soft)}
.auth-card{background:#fff;border:1px solid #eef1f6;border-radius:16px;padding:24px;width:min(92vw,420px)}
.auth-card h1{margin:0 0 10px}
.auth-card .muted{color:var(--muted);font-size:.9rem}
.inline{display:inline-flex;gap:6px;align-items:center}
@media (max-width: 768px){.cards{grid-template-columns:1fr}}

/* Eliminado: se usa modal de Bootstrap */


/* Modo oscuro opcional en admin (activar con .dark-theme en <html>) */
.dark-theme{--bg:#0b0e16;--bg-soft:#0f1424;--ink:#e5e7eb;--muted:#9aa4b2}
.dark-theme body{background:var(--bg);color:var(--ink)}
.dark-theme .admin-header{background:#0f1424;border-bottom-color:#1e293b}
.dark-theme .admin-header nav a{color:#e5e7eb}
.dark-theme .admin-header nav a:hover{color:#c7d2fe}
.dark-theme .navbar .nav-link{color:#e5e7eb}
.dark-theme .navbar .nav-link.active{color:#c7d2fe!important}
.dark-theme .dropdown-menu{background:#0f1628;border-color:#1f2a44}
.dark-theme .dropdown-item{color:#e5e7eb}
.dark-theme .dropdown-item.active,.dark-theme .dropdown-item:active,.dark-theme .dropdown-item:hover{background:#0b1220;color:#c7d2fe}
.dark-theme .card{background:#0f1628;border-color:#1f2a44;color:var(--ink)}
.dark-theme .panel{background:#0f1628;border-color:#1f2a44;color:var(--ink)}
.dark-theme .alert{background:#0b1220;border-color:#1f2a44;color:#e5e7eb}
.dark-theme input,.dark-theme textarea,.dark-theme select{background:#0b1220;border-color:#223049;color:var(--ink)}
.dark-theme .table-wrap{border-color:#1f2a44}
.dark-theme table{color:var(--ink)}
.dark-theme th,.dark-theme td{border-bottom-color:#1f2a44}
.dark-theme .page{border-color:#334155;color:#e5e7eb}
.dark-theme .page.active{background:#1f2937;border-color:#475569}
.dark-theme body.auth{background:var(--bg-soft)}
.dark-theme .auth-card{background:#0f1628;border-color:#1f2a44}

/* Helpers para ocultar columnas y evitar scroll horizontal */
@media (max-width: 991.98px){
  .contacts-table-hide-md{ display: none !important; }
}
@media (max-width: 767.98px){
  .contacts-table-hide-sm{ display: none !important; }
}

